sap.ui.define(["sap/ui/core/mvc/Controller","chocomint/utils/constants","chocomint/components/BetterToast"],(e,t,o)=>{"use strict";let n;return e.extend("chocomint.controller.EmplList",{onInit(){n=this.getOwnerComponent().getRouter()},onNavDetail(e){const o=e.getParameter("row").getBindingContext().getObject();n.navTo(t.EMPLOYEE_INFO,{id:o.ID})},onAddEmpl:async function(e){if(!this.oAddDialog){this.oAddDialog=await this.loadFragment({name:"chocomint.view.fragments.EmplCreate",horizontalScrolling:false,stretch:true})}const t=this.getView();const n=t.getModel();const s=n.bindList("/Employees",undefined,undefined,undefined,{$$updateGroupId:"createGroup"});const i=s.create({},true);s.attachCreateCompleted(e=>{const n=e.getParameter("success");if(n){t.byId("EmplTable").getBinding("rows").refresh();o.success("Create successfully!")}else{o.error("Cannot create new Employee")}this.oAddDialog.close()});await this.oAddDialog;this.oAddDialog.setBindingContext(i);this.oAddDialog.open()},onBtnEmplCreate(e){const t=this.oAddDialog.getBindingContext();const n=t.getModel();n.submitBatch("createGroup").then().catch(function(e){this.oAddDialog.close();o.error(e.message)})},onOnboardEmpl(){o.success("nhu cc")},onDeleteEmpl(e){const t=e.getParameter("row").getBindingContext();const n=t.getModel();t.delete();n.submitBatch(n.getUpdateGroupId()).then().catch(e=>{o.error(e.message)});t.isDeleted()&&o.success("Delete Successfully")},onBtnClose(){this.oAddDialog.close()}})});
//# sourceMappingURL=EmplList.controller.js.map